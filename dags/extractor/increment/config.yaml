extractors:
  # - target: fund_name_from_em_akshare
  #   tags: ["extractor", "akshare"]
  #   destination_key_template: "lake/raw/daily/fund_name/akshare/em/dt={PARTITION_DATE}/data.csv"
  #   fetcher: "dags.extractor.increment.functions.base.fetch_fund_name_from_em_akshare:fetch_fund_name_from_em_akshare"
    
  # - target: tool_trade_date_hist_sina_akshare
  #   tags: ["extractor", "akshare"]
  #   destination_key_template: "lake/raw/daily/tool_trade_date_hist/sina/akshare/dt={PARTITION_DATE}/data.csv"
  #   fetcher: "dags.extractor.increment.functions.base.fetch_tool_trade_date_hist_sina_akshare:fetch_tool_trade_date_hist_sina_akshare"

  # - target: fund_etf_spot_em_akshare
  #   tags: ["extractor", "akshare"]
  #   destination_key_template: "lake/raw/daily/fund_etf_spot/akshare/em/dt={PARTITION_DATE}/data.csv"
  #   fetcher: "dags.extractor.increment.functions.etf.fetch_fund_etf_spot_em_akshare:fetch_fund_etf_spot_em_akshare"

  - target: etf_universe_whitelist
    tags: ["extractor", "whitelist"]
    destination_key_template: "lake/raw/daily/etf_universe_whitelist/local/dt={PARTITION_DATE}/data.csv"
    fetcher: "dags.extractor.increment.functions.etf.fetch_etf_universe_whitelist:fetch_etf_universe_whitelist"

  - target: fund_etf_history_em_akshare
    tags: ["extractor", "akshare"]
    destination_key_template: "lake/raw/daily/fund_etf_history/em/akshare/dt={PARTITION_DATE}/data.csv"
    fetcher: "dags.extractor.increment.functions.etf.fetch_fund_etf_history_em_akshare:fetch_fund_etf_history_em_akshare"
    provider:
      callable: "dags.extractor.increment.target_providers:provide_jobs_from_catalog_values"
      kwargs:
        sql: "SELECT symbol FROM ods.ods_etf_universe_whitelist WHERE enabled = 1"
        kwarg_name: "symbol"
        aws_conn_id: "MINIO_S3"
